"use strict";var N=function(r,e){return function(){return e||r((e={exports:{}}).exports,e),e.exports}};var H=N(function(zr,vr){vr.exports={dims:null,keepdims:!1}});var K=N(function(Cr,J){"use strict";var pr=require("@stdlib/assert-is-plain-object"),U=require("@stdlib/assert-has-own-property"),hr=require("@stdlib/assert-is-boolean").isPrimitive,lr=require("@stdlib/assert-is-integer-array").primitives,gr=require("@stdlib/assert-is-empty-collection"),fr=require("@stdlib/ndarray-base-to-unique-normalized-indices"),yr=require("@stdlib/ndarray-base-dtype-resolve-str"),x=require("@stdlib/array-base-join"),cr=require("@stdlib/array-base-assert-contains"),F=require("@stdlib/string-format");function wr(r,e,t,n){var s;if(!pr(n))return new TypeError(F("invalid argument. Options argument must be an object. Value: `%s`.",n));if(U(n,"keepdims")&&(r.keepdims=n.keepdims,!hr(r.keepdims)))return new TypeError(F("invalid option. `%s` option must be a boolean. Option: `%s`.","keepdims",r.keepdims));if(U(n,"dims")){if(r.dims=n.dims,!lr(r.dims)&&!gr(r.dims))return new TypeError(F("invalid option. `%s` option must be an array of integers. Option: `%s`.","dims",r.dims));if(s=fr(r.dims,e-1),s===null)return new RangeError(F("invalid option. `%s` option contains an out-of-bounds dimension index. Option: [%s].","dims",x(r.dims,",")));if(s.length!==r.dims.length)return new Error(F("invalid option. `%s` option contains duplicate indices. Option: [%s].","dims",x(r.dims,",")));r.dims=s}return U(n,"dtype")&&(r.dtype=n.dtype,!cr(t,yr(r.dtype)))?new TypeError(F('invalid option. `%s` option must be one of the following: "%s". Option: `%s`.',"dtype",x(t,'", "'),r.dtype)):null}J.exports=wr});var mr=N(function(Rr,dr){"use strict";var er=require("@stdlib/utils-define-nonenumerable-read-only-property"),M=require("@stdlib/assert-has-property"),D=require("@stdlib/assert-is-ndarray-like"),Q=require("@stdlib/assert-is-object"),qr=require("@stdlib/assert-is-function"),z=require("@stdlib/assert-is-collection"),W=require("@stdlib/assert-is-empty-collection"),br=require("@stdlib/assert-is-function-array"),X=require("@stdlib/ndarray-base-assert-is-data-type"),Er=require("@stdlib/ndarray-base-assert-is-output-data-type-policy"),Tr=require("@stdlib/ndarray-base-assert-is-input-casting-policy"),C=require("@stdlib/ndarray-base-assert-is-equal-data-type"),S=require("@stdlib/array-base-assert-contains"),ar=require("@stdlib/ndarray-base-binary-reduce-strided1d"),_r=require("@stdlib/ndarray-base-binary-output-dtype"),R=require("@stdlib/ndarray-base-binary-input-casting-dtype"),G=require("@stdlib/ndarray-base-dtypes2enums"),Y=require("@stdlib/ndarray-base-dtypes2strings"),O=require("@stdlib/ndarray-base-dtype-resolve-str"),jr=require("@stdlib/ndarray-base-spread-dimensions"),P=require("@stdlib/ndarray-shape"),kr=require("@stdlib/ndarray-ndims"),T=require("@stdlib/ndarray-base-dtype"),B=require("@stdlib/ndarray-base-order"),Z=require("@stdlib/ndarray-base-assign"),L=require("@stdlib/ndarray-base-empty"),Fr=require("@stdlib/ndarray-empty"),Dr=require("@stdlib/array-base-indices-complement"),Sr=require("@stdlib/array-base-take-indexed"),tr=require("@stdlib/array-base-zero-to"),c=require("@stdlib/array-base-join"),$=require("@stdlib/array-base-copy"),ir=require("@stdlib/array-base-insert-at"),rr=require("@stdlib/array-base-every-by"),nr=require("@stdlib/blas-ext-base-gindex-of-row").ndarray,sr=require("@stdlib/object-assign"),i=require("@stdlib/string-format"),Or=require("@stdlib/ndarray-defaults"),ur=H(),or=K(),Vr=Or.get("order");function I(r,e,t,n){var s,o;if(!(this instanceof I))return new I(r,e,t,n);if(!Q(r))throw new TypeError(i("invalid argument. First argument must be an object. Value: `%s`.",r));if(!qr(r.default))throw new TypeError(i('invalid argument. First argument must be an object having a "default" property and an associated method.'));if(M(r,"types")&&!z(r.types)&&!W(r.types))throw new TypeError(i('invalid argument. First argument must be an object having a "types" property whose associated value is an array-like object.'));if(M(r,"fcns")&&!br(r.fcns)&&!W(r.fcns))throw new TypeError(i('invalid argument. First argument must be an object having a "fcns" property whose associated value is an array-like object containing functions.'));if(!z(e))throw new TypeError(i("invalid argument. Second argument must be an array-like object. Value: `%s`.",e));for(e=$(e),o=0;o<e.length;o++){if(s=e[o],!z(s)||s.length<1||!rr(s,X))throw new TypeError(i("invalid argument. Second argument must contain arrays of data types. Value: `%s`.",e));e[o]=Y(s)}if(!z(t)||t.length<1||!rr(t,X))throw new TypeError(i("invalid argument. Third argument must be an array of data types. Value: `%s`.",t));if(t=Y(t),!Q(n))throw new TypeError(i("invalid argument. Fourth argument must be an object. Value: `%s`.",r));if(!Er(n.output))throw new TypeError(i("invalid argument. Fourth argument must be an object having a supported output data type policy. Value: `%s`.",n.output));if(!Tr(n.casting))throw new TypeError(i("invalid argument. Fourth argument must be an object having a supported casting policy. Value: `%s`.",n.casting));if(this._table={default:r.default,types:r.types?G(r.types):[],fcns:r.fcns?$(r.fcns):[]},this._table.types.length!==2*this._table.fcns.length)throw new Error("invalid argument. First argument specifies an unexpected number of types. Two input ndarray data types must be specified for each provided strided function.");return this._idtypes=e,this._odtypes=t,this._policies={output:n.output,casting:n.casting},this}er(I.prototype,"apply",function(e,t){var n,s,o,d,b,E,_,g,y,m,v,j,f,u,p,l,w,a,q,k,V,h,A;if(s=arguments.length,!D(e))throw new TypeError(i("invalid argument. First argument must be an ndarray-like object. Value: `%s`.",e));if(!D(t))throw new TypeError(i("invalid argument. Second argument must be an ndarray-like object. Value: `%s`.",t));if(p=T(e),!S(this._idtypes[0],O(p)))throw new TypeError(i('invalid argument. First argument must have one of the following data types: "%s". Data type: `%s`.',c(this._idtypes[0],'", "'),p));if(l=T(t),!S(this._idtypes[1],O(l)))throw new TypeError(i('invalid argument. Second argument must have one of the following data types: "%s". Data type: `%s`.',c(this._idtypes[1],'", "'),l));for(o=[e,t],h=2;h<s&&(f=arguments[h],!!D(f));h++){if(a=T(f),!S(this._idtypes[h],O(a)))throw new TypeError(i('invalid argument. Argument %d must have one of the following data types: "%s". Data type: `%s`.',h,c(this._idtypes[h],'", "'),a));o.push(f)}if(h<s-1)throw new TypeError(i("invalid argument. Argument %d must be an ndarray-like object. Value: `%s`.",h,arguments[h]));if(m=P(e),v=P(t),m.length!==v.length)throw new Error(i("invalid argument. Input arrays must have the same number of dimensions. First array dimensions: %d. Second array dimensions: %d.",m.length,v.length));for(k=m.length,A=0;A<k;A++)if(m[A]!==v[A])throw new Error(i("invalid argument. Input arrays must have the same shape. First array shape: [%s]. Second array shape: [%s].",c(m,","),c(v,",")));if(d=sr({},ur),s>h&&(n=arguments[s-1],g=or(d,k,this._odtypes,n),g))throw g;return d.dims===null&&(d.dims=tr(k)),y=Dr(k,d.dims),j=Sr(m,y),b=B(e),E=B(t),b===E?_=b:_=Vr,w=d.dtype||_r(p,l,this._policies.output),V=Fr(j,{dtype:w,order:_}),a=R(p,l,w,this._policies.casting),C(p,a)||(u=L(a,m,b),Z([e,u]),o[0]=u,p=a),a=R(l,p,w,this._policies.casting),C(l,a)||(u=L(a,v,E),Z([t,u]),o[1]=u,l=a),h=nr(this._table.fcns.length,2,this._table.types,2,1,0,G([p,l]),1,0),h>=0?q=this._table.fcns[h]:q=this._table.default,ar(q,ir(o,2,V),d.dims),d.keepdims&&(V=jr(k,V,y,!0)),V});er(I.prototype,"assign",function r(e,t){var n,s,o,d,b,E,_,g,y,m,v,j,f,u,p,l,w,a,q;if(s=arguments.length,!D(e))throw new TypeError(i("invalid argument. First argument must be an ndarray-like object. Value: `%s`.",e));if(!D(t))throw new TypeError(i("invalid argument. Second argument must be an ndarray-like object. Value: `%s`.",t));if(m=T(e),!S(this._idtypes[0],O(m)))throw new TypeError(i('invalid argument. First argument must have one of the following data types: "%s". Data type: `%s`.',c(this._idtypes[0],'", "'),m));if(v=T(t),!S(this._idtypes[1],O(v)))throw new TypeError(i('invalid argument. Second argument must have one of the following data types: "%s". Data type: `%s`.',c(this._idtypes[1],'", "'),v));if(g=P(e),y=P(t),g.length!==y.length)throw new Error(i("invalid argument. Input arrays must have the same number of dimensions. First array dimensions: %d. Second array dimensions: %d.",g.length,y.length));for(p=g.length,q=0;q<p;q++)if(g[q]!==y[q])throw new Error(i("invalid argument. Input arrays must have the same shape. First array shape: [%s]. Second array shape: [%s].",c(g,","),c(y,",")));for(d=[e,t],a=2;a<s&&(b=arguments[a],!!D(b));a++)d.push(b);if(a<3)throw new TypeError(i("invalid argument. Third argument must be an ndarray-like object. Value: `%s`.",arguments[2]));if(a===s-1)n=arguments[a],_=!0;else if(a<s-1)throw new TypeError(i("invalid argument. Argument %d must be an ndarray-like object. Value: `%s`.",a,arguments[a]));for(w=d.pop(),a=2;a<d.length;a++)if(u=T(d[a]),!S(this._idtypes[a],O(u)))throw new TypeError(i('invalid argument. Argument %d must have one of the following data types: "%s". Data type: `%s`.',a,c(this._idtypes[a],'", "'),u));if(p=kr(e),o=sr({},ur),_&&(E=or(o,p,this._odtypes,n),E))throw E;return o.dims===null&&(o.dims=tr(p)),j=T(w),u=R(m,v,j,this._policies.casting),C(m,u)||(f=L(u,g,B(e)),r([e,f]),d[0]=f,m=u),u=R(v,m,j,this._policies.casting),C(v,u)||(f=L(u,y,B(t)),r([t,f]),d[1]=f,v=u),a=nr(this._table.fcns.length,2,this._table.types,2,1,0,G([m,v]),1,0),a>=0?l=this._table.fcns[a]:l=this._table.default,ar(l,ir(d,2,w),o.dims),w});dr.exports=I});var Ar=mr();module.exports=Ar;
/**
* @license Apache-2.0
*
* Copyright (c) 2025 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
//# sourceMappingURL=index.js.map
