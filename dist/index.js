"use strict";var C=function(r,e){return function(){return e||r((e={exports:{}}).exports,e),e.exports}};var G=C(function(Cr,vr){vr.exports={dims:null,keepdims:!1}});var J=C(function(Pr,H){"use strict";var mr=require("@stdlib/assert-is-plain-object"),N=require("@stdlib/assert-has-own-property"),pr=require("@stdlib/assert-is-boolean").isPrimitive,hr=require("@stdlib/assert-is-integer-array").primitives,lr=require("@stdlib/assert-is-empty-collection"),fr=require("@stdlib/ndarray-base-to-unique-normalized-indices"),U=require("@stdlib/array-base-join"),gr=require("@stdlib/array-base-assert-contains"),D=require("@stdlib/string-format");function yr(r,e,t,i){var s;if(!mr(i))return new TypeError(D("invalid argument. Options argument must be an object. Value: `%s`.",i));if(N(i,"keepdims")&&(r.keepdims=i.keepdims,!pr(r.keepdims)))return new TypeError(D("invalid option. `%s` option must be a boolean. Option: `%s`.","keepdims",r.keepdims));if(N(i,"dims")){if(r.dims=i.dims,!hr(r.dims)&&!lr(r.dims))return new TypeError(D("invalid option. `%s` option must be an array of integers. Option: `%s`.","dims",r.dims));if(s=fr(r.dims,e-1),s===null)return new RangeError(D("invalid option. `%s` option contains an out-of-bounds dimension index. Option: [%s].","dims",U(r.dims,",")));if(s.length!==r.dims.length)return new Error(D("invalid option. `%s` option contains duplicate indices. Option: [%s].","dims",U(r.dims,",")));r.dims=s}return N(i,"dtype")&&(r.dtype=i.dtype,!gr(t,r.dtype))?new TypeError(D('invalid option. `%s` option must be one of the following: "%s". Option: `%s`.',"dtype",U(t,'", "'),r.dtype)):null}H.exports=yr});var Q=C(function(Rr,K){"use strict";function cr(r,e,t,i,s,d,g,u,b){var c,q,m,p;for(c=d,m=0;m<r;m++){for(q=b,p=0;p<e&&t[c+p*s]===g[q];p++)q+=u;if(p===e)return m;c+=i}return-1}K.exports=cr});var dr=C(function(xr,or){"use strict";var rr=require("@stdlib/utils-define-nonenumerable-read-only-property"),W=require("@stdlib/assert-has-property"),O=require("@stdlib/assert-is-ndarray-like"),X=require("@stdlib/assert-is-object"),wr=require("@stdlib/assert-is-function"),P=require("@stdlib/assert-is-collection"),Y=require("@stdlib/assert-is-empty-collection"),br=require("@stdlib/assert-is-function-array"),Z=require("@stdlib/ndarray-base-assert-is-data-type"),qr=require("@stdlib/ndarray-base-assert-is-output-data-type-policy"),Er=require("@stdlib/ndarray-base-assert-is-input-casting-policy"),V=require("@stdlib/array-base-assert-contains"),er=require("@stdlib/ndarray-base-binary-reduce-strided1d"),Tr=require("@stdlib/ndarray-base-binary-output-dtype"),R=require("@stdlib/ndarray-base-binary-input-casting-dtype"),I=require("@stdlib/ndarray-base-dtype-resolve-enum"),_r=require("@stdlib/ndarray-base-spread-dimensions"),x=require("@stdlib/ndarray-shape"),jr=require("@stdlib/ndarray-ndims"),j=require("@stdlib/ndarray-base-dtype"),B=require("@stdlib/ndarray-base-order"),$=require("@stdlib/ndarray-base-assign"),L=require("@stdlib/ndarray-base-empty"),kr=require("@stdlib/ndarray-empty"),Fr=require("@stdlib/array-base-indices-complement"),Dr=require("@stdlib/array-base-take-indexed"),tr=require("@stdlib/array-base-zero-to"),E=require("@stdlib/array-base-join"),Or=require("@stdlib/array-base-copy"),M=require("@stdlib/array-base-every-by"),ar=require("@stdlib/object-assign"),n=require("@stdlib/string-format"),Vr=require("@stdlib/ndarray-defaults"),ir=G(),nr=J(),sr=Q(),Sr=Vr.get("order");function Ar(r){var e,t;for(e=[],t=0;t<r.length;t++)e.push(I(r[t]));return e}function ur(r,e){var t,i,s;for(t=[],i=0,s=0;i<=r.length;i++)i===2?t.push(e):(t.push(r[s]),s+=1);return t}function z(r,e,t,i){var s,d;if(!(this instanceof z))return new z(r,e,t,i);if(!X(r))throw new TypeError(n("invalid argument. First argument must be an object. Value: `%s`.",r));if(!wr(r.default))throw new TypeError(n('invalid argument. First argument must be an object having a "default" property and an associated method.'));if(W(r,"types")&&!P(r.types)&&!Y(r.types))throw new TypeError(n('invalid argument. First argument must be an object having a "types" property whose associated value is an array-like object.'));if(W(r,"fcns")&&!br(r.fcns)&&!Y(r.fcns))throw new TypeError(n('invalid argument. First argument must be an object having a "fcns" property whose associated value is an array-like object containing functions.'));if(!P(e))throw new TypeError(n("invalid argument. Second argument must be an array-like object. Value: `%s`.",e));for(d=0;d<e.length;d++)if(s=e[d],!P(s)||s.length<1||!M(s,Z))throw new TypeError(n("invalid argument. Second argument must contain arrays of data types. Value: `%s`.",e));if(!P(t)||t.length<1||!M(t,Z))throw new TypeError(n("invalid argument. Third argument must be an array of data types. Value: `%s`.",t));if(!X(i))throw new TypeError(n("invalid argument. Fourth argument must be an object. Value: `%s`.",r));if(!qr(i.output))throw new TypeError(n("invalid argument. Fourth argument must be an object having a supported output data type policy. Value: `%s`.",i.output));if(!Er(i.casting))throw new TypeError(n("invalid argument. Fourth argument must be an object having a supported casting policy. Value: `%s`.",i.casting));if(this._table={default:r.default,types:r.types?Ar(r.types):[],fcns:r.fcns?Or(r.fcns):[]},this._table.types.length!==2*this._table.fcns.length)throw new Error("invalid argument. First argument specifies an unexpected number of types. Two input ndarray data types must be specified for each provided strided function.");return this._idtypes=e,this._odtypes=t,this._policies={output:i.output,casting:i.casting},this}rr(z.prototype,"apply",function(e,t){var i,s,d,g,u,b,c,q,m,p,v,h,k,w,o,l,y,T,a,_,F,S,f,A;if(d=arguments.length,!O(e))throw new TypeError(n("invalid argument. First argument must be an ndarray-like object. Value: `%s`.",e));if(!O(t))throw new TypeError(n("invalid argument. Second argument must be an ndarray-like object. Value: `%s`.",t));if(l=j(e),!V(this._idtypes[0],l))throw new TypeError(n('invalid argument. First argument must have one of the following data types: "%s". Data type: `%s`.',E(this._idtypes[0],'", "'),l));if(y=j(t),!V(this._idtypes[1],y))throw new TypeError(n('invalid argument. Second argument must have one of the following data types: "%s". Data type: `%s`.',E(this._idtypes[1],'", "'),y));for(g=[e,t],f=2;f<d&&(w=arguments[f],!!O(w));f++){if(a=j(w),!V(this._idtypes[f],a))throw new TypeError(n('invalid argument. Argument %d must have one of the following data types: "%s". Data type: `%s`.',f,E(this._idtypes[f],'", "'),a));g.push(w)}if(f<d-1)throw new TypeError(n("invalid argument. Argument %d must be an ndarray-like object. Value: `%s`.",f,arguments[f]));if(v=x(e),h=x(t),v.length!==h.length)throw new Error(n("invalid argument. Input arrays must have the same number of dimensions. First array dimensions: %d. Second array dimensions: %d.",v.length,h.length));for(F=v.length,A=0;A<F;A++)if(v[A]!==h[A])throw new Error(n("invalid argument. Input arrays must have the same shape. First array shape: [%s]. Second array shape: [%s].",E(v,","),E(h,",")));if(u=ar({},ir),d>f&&(i=arguments[d-1],m=nr(u,F,this._odtypes,i),m))throw m;return u.dims===null&&(u.dims=tr(F)),p=Fr(F,u.dims),k=Dr(v,p),b=B(e),c=B(t),b===c?q=b:q=Sr,T=u.dtype||Tr(l,y,this._policies.output),S=kr(k,{dtype:T,order:q}),a=R(l,y,T,this._policies.casting),l!==a&&(o=L(a,v,b),$([e,o]),g[0]=o,l=a),a=R(y,l,T,this._policies.casting),y!==a&&(o=L(a,h,c),$([t,o]),g[1]=o,y=a),s=[I(l),I(y)],f=sr(this._table.fcns.length,2,this._table.types,2,1,0,s,1,0),f>=0?_=this._table.fcns[f]:_=this._table.default,er(_,ur(g,S),u.dims),u.keepdims&&(S=_r(F,S,p)),S});rr(z.prototype,"assign",function r(e,t){var i,s,d,g,u,b,c,q,m,p,v,h,k,w,o,l,y,T,a,_;if(d=arguments.length,!O(e))throw new TypeError(n("invalid argument. First argument must be an ndarray-like object. Value: `%s`.",e));if(!O(t))throw new TypeError(n("invalid argument. Second argument must be an ndarray-like object. Value: `%s`.",t));if(v=j(e),!V(this._idtypes[0],v))throw new TypeError(n('invalid argument. First argument must have one of the following data types: "%s". Data type: `%s`.',E(this._idtypes[0],'", "'),v));if(h=j(t),!V(this._idtypes[1],h))throw new TypeError(n('invalid argument. Second argument must have one of the following data types: "%s". Data type: `%s`.',E(this._idtypes[1],'", "'),h));if(m=x(e),p=x(t),m.length!==p.length)throw new Error(n("invalid argument. Input arrays must have the same number of dimensions. First array dimensions: %d. Second array dimensions: %d.",m.length,p.length));for(l=m.length,_=0;_<l;_++)if(m[_]!==p[_])throw new Error(n("invalid argument. Input arrays must have the same shape. First array shape: [%s]. Second array shape: [%s].",E(m,","),E(p,",")));for(u=[e,t],a=2;a<d&&(b=arguments[a],!!O(b));a++)u.push(b);if(a<3)throw new TypeError(n("invalid argument. Third argument must be an ndarray-like object. Value: `%s`.",arguments[2]));if(a===d-1)i=arguments[a],q=!0;else if(a<d-1)throw new TypeError(n("invalid argument. Argument %d must be an ndarray-like object. Value: `%s`.",a,arguments[a]));for(T=u.pop(),a=2;a<u.length;a++)if(o=j(u[a]),!V(this._idtypes[a],o))throw new TypeError(n('invalid argument. Argument %d must have one of the following data types: "%s". Data type: `%s`.',a,E(this._idtypes[a],'", "'),o));if(l=jr(e),g=ar({},ir),q&&(c=nr(g,l,this._odtypes,i),c))throw c;return g.dims===null&&(g.dims=tr(l)),k=j(T),o=R(v,h,k,this._policies.casting),v!==o&&(w=L(o,m,B(e)),r([e,w]),u[0]=w,v=o),o=R(h,v,k,this._policies.casting),h!==o&&(w=L(o,p,B(t)),r([t,w]),u[1]=w,h=o),s=[I(v),I(h)],a=sr(this._table.fcns.length,2,this._table.types,2,1,0,s,1,0),a>=0?y=this._table.fcns[a]:y=this._table.default,er(y,ur(u,T),g.dims),T});or.exports=z});var Ir=dr();module.exports=Ir;
/**
* @license Apache-2.0
*
* Copyright (c) 2025 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
//# sourceMappingURL=index.js.map
